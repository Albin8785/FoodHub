<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
    <title>FoodHub - Enterprise</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
</head>
<body>

    <nav class="navbar">
        <div class="container">
            <div class="brand">
                <div class="brand-icon"><i class="fa-solid fa-utensils"></i></div>
                <span>Food<span style="color: var(--primary);">Hub</span></span>
            </div>
            
            <div id="nav-container" class="nav-actions">
                <span id="user-display" class="hide" style="font-weight: 500; font-size: 0.9rem;"></span>
                <button id="btn-logout" onclick="app.logout()" class="btn-logout hide">
                    <i class="fa-solid fa-right-from-bracket"></i> Logout
                </button>
            </div>
        </div>
    </nav>

    <main>
        
        <div id="view-login" class="view-section login-container fade-in">
            <div class="card">
                <div class="text-center mb-6">
                    <h1 style="font-size: 1.5rem; font-weight: bold;">Welcome Back</h1>
                    <p style="color: var(--text-muted); font-size: 0.875rem;">Please select your role to login</p>
                </div>

                <div class="role-switcher">
                    <button onclick="app.setLoginRole('customer')" class="role-btn active" data-role="customer">Customer</button>
                    <button onclick="app.setLoginRole('admin')" class="role-btn" data-role="admin">Admin</button>
                    <button onclick="app.setLoginRole('rider')" class="role-btn" data-role="rider">Rider</button>
                    <button onclick="app.loginQR()" class="role-btn" style="color: #7e22ce;"><i class="fa-solid fa-qrcode"></i> QR</button>
                </div>

                <form onsubmit="app.login(event)">
                    <div class="form-group">
                        <label class="form-label">Username</label>
                        <div class="input-wrapper">
                            <span class="input-icon"><i class="fa-solid fa-user"></i></span>
                            <input type="text" id="login-user" required class="input-field" placeholder="Enter username">
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Password</label>
                        <div class="input-wrapper">
                            <span class="input-icon"><i class="fa-solid fa-lock"></i></span>
                            <input type="password" id="login-pass" required class="input-field" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢">
                        </div>
                    </div>
                    
                    <button type="submit" class="btn-primary">Login to Portal</button>
                </form>

                <div style="margin-top: 1.5rem; border-top: 1px solid var(--border); padding-top: 1rem; text-align: center; font-size: 0.75rem; color: var(--text-muted);">
                    <p>Demo Credentials:</p>
                    <p><strong>Customer:</strong> user / user123</p>
                    <p><strong>Admin:</strong> admin / admin123</p>
                    <p><strong>Rider:</strong> rider / rider123</p>
                </div>
            </div>
        </div>

        <div id="view-customer" class="view-section customer-container hide fade-in">
            <div class="tabs">
                <button onclick="app.toggleCustomerView('order')" id="btn-cust-order" class="tab-btn active">Order Food</button>
                <button onclick="app.toggleCustomerView('book')" id="btn-cust-book" class="tab-btn">Book Table</button>
            </div>

            <div id="customer-view-order" class="customer-subview">
                <div class="loyalty-card">
                    <div style="display: flex; align-items: center; gap: 1rem;">
                        <div style="background: rgba(255,255,255,0.2); padding: 0.5rem; border-radius: 50%;"><i class="fa-solid fa-crown" style="color: #facc15;"></i></div>
                        <div>
                            <p style="font-size: 0.75rem; text-transform: uppercase; letter-spacing: 0.05em; opacity: 0.8;">Loyalty Balance</p>
                            <p style="font-weight: bold; font-size: 1.25rem;"><span id="cust-points">0</span> pts</p>
                        </div>
                    </div>
                    <button style="background: rgba(255,255,255,0.1); border: 1px solid rgba(255,255,255,0.1); color: white; padding: 0.5rem 1rem; border-radius: 0.5rem; font-size: 0.875rem;">
                        <i class="fa-solid fa-star"></i> Gold Member
                    </button>
                </div>

                <div class="filter-row">
                    <button onclick="app.setMenuFilter('all')" class="filter-btn active" data-filter="all">All</button>
                    <button onclick="app.setMenuFilter('veg')" class="filter-btn" style="color: #15803d;" data-filter="veg">ü•¨ Veg</button>
                    <button onclick="app.setMenuFilter('non-veg')" class="filter-btn" style="color: #b91c1c;" data-filter="non-veg">üçñ Non-Veg</button>
                </div>

                <div class="layout-split">
                    <div class="menu-area" id="customer-menu-container">
                        <div id="section-food">
                            <h3 class="section-title"><i class="fa-solid fa-burger" style="color: var(--primary);"></i> Food</h3>
                            <div id="customer-menu-food" class="grid-menu"></div>
                        </div>

                        <div id="section-drinks" style="margin-top: 2rem;">
                            <h3 class="section-title"><i class="fa-solid fa-glass-water" style="color: var(--blue);"></i> Drinks</h3>
                            <div id="customer-menu-drinks" class="grid-menu"></div>
                        </div>
                    </div>

                    <div class="cart-area">
                        <div class="cart-card">
                            <div class="cart-header">
                                <h3>Current Order</h3>
                                <span style="background: #ffedd5; color: #c2410c; padding: 2px 8px; border-radius: 99px; font-size: 0.75rem;" id="cart-count">0</span>
                            </div>
                            
                            <div id="cart-items" class="cart-body">
                                <div style="text-align: center; color: var(--text-muted); padding: 2rem 0;">Your cart is empty</div>
                            </div>
                            
                            <div class="cart-footer">
                                <div class="cart-row"><span>Total</span> <span style="font-weight: bold; font-size: 1.1rem;" id="cart-total">$0.00</span></div>
                                <button onclick="app.showCheckoutModal()" class="btn-primary">Checkout</button>
                            </div>
                        </div>
                        <div style="height: 100px;" class="hide-mobile"></div>
                    </div>
                </div>
            </div>

            <div id="customer-view-book" class="customer-subview hide">
                <div class="card" style="max-width: 900px; margin: 0 auto;">
                    <div class="text-center mb-6">
                        <h2 style="font-size: 1.5rem; font-weight: bold;">Reserve Your Spot</h2>
                        <div style="display: flex; justify-content: center; gap: 1rem; margin-top: 0.5rem; font-size: 0.875rem;">
                            <span style="display: flex; align-items: center; gap: 5px;"><div style="width: 10px; height: 10px; border-radius: 50%; background: var(--success);"></div> Available</span>
                            <span style="display: flex; align-items: center; gap: 5px;"><div style="width: 10px; height: 10px; border-radius: 50%; background: #eab308;"></div> Reserved</span>
                            <span style="display: flex; align-items: center; gap: 5px;"><div style="width: 10px; height: 10px; border-radius: 50%; background: var(--danger);"></div> Occupied</span>
                        </div>
                    </div>
                    <div id="customer-tables-grid" class="grid-menu" style="grid-template-columns: repeat(auto-fill, minmax(100px, 1fr));"></div>
                </div>
            </div>
        </div>

        <div id="view-admin" class="view-section admin-container hide fade-in">
            <div class="admin-nav">
                <button onclick="app.switchAdminTab('orders')" class="admin-btn active" data-tab="orders">Orders</button>
                <button onclick="app.switchAdminTab('menu')" class="admin-btn" data-tab="menu">Menu</button>
                <button onclick="app.switchAdminTab('tables')" class="admin-btn" data-tab="tables">Tables</button>
                <button onclick="app.switchAdminTab('fleet')" class="admin-btn" data-tab="fleet">Fleet</button>
                <button onclick="app.switchAdminTab('marketing')" class="admin-btn" data-tab="marketing">Marketing</button>
            </div>

            <div class="admin-content-area">
                <div id="tab-orders" class="admin-panel grid-2">
                    <div class="admin-panel-card">
                        <h3 style="font-weight: bold; color: var(--primary); margin-bottom: 1rem; display: flex; gap: 0.5rem;"><i class="fa-solid fa-fire"></i> Kitchen / Pending</h3>
                        <div id="admin-orders-pending"></div>
                    </div>
                    <div class="admin-panel-card">
                        <h3 style="font-weight: bold; color: var(--success); margin-bottom: 1rem; display: flex; gap: 0.5rem;"><i class="fa-solid fa-bell"></i> Ready / Completed</h3>
                        <div id="admin-orders-ready"></div>
                    </div>
                </div>
                
                <div id="tab-menu" class="admin-panel hide" style="display: grid; grid-template-columns: 1fr 2fr; gap: 1.5rem;">
                    <div class="admin-panel-card" style="height: fit-content;">
                        <h4 style="font-weight: bold; margin-bottom: 1rem;">Add Item</h4>
                        <form onsubmit="app.addMenuItem(event)">
                            <div class="form-group"><input type="text" name="name" placeholder="Item Name" required class="input-field"></div>
                            <div class="form-group" style="display: flex; gap: 0.5rem;">
                                <input type="number" step="0.01" name="price" placeholder="Price" required class="input-field">
                                <select name="group" required class="input-field">
                                    <option value="food">Food</option>
                                    <option value="drink">Drink</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <select name="type" required class="input-field">
                                    <option value="veg">Veg</option>
                                    <option value="non-veg">Non-Veg</option>
                                </select>
                            </div>
                            <div class="form-group"><input type="text" name="category" placeholder="Category" required class="input-field"></div>
                            <div class="form-group"><input type="url" name="image" placeholder="Image URL" class="input-field" value="https://placehold.co/400?text=Yum"></div>
                            <button class="btn-primary" style="background: var(--blue);">Add Item</button>
                        </form>
                    </div>
                    <div class="admin-panel-card">
                        <table class="table-std">
                            <thead><tr><th>Item</th><th>Group</th><th>Type</th><th>Price</th><th style="text-align: right;">Action</th></tr></thead>
                            <tbody id="admin-menu-list"></tbody>
                        </table>
                    </div>
                </div>

                <div id="tab-tables" class="admin-panel hide admin-panel-card">
                    <div class="grid-menu" style="grid-template-columns: repeat(auto-fill, minmax(100px, 1fr));" id="admin-tables-grid"></div>
                </div>
                
                <div id="tab-fleet" class="admin-panel hide admin-panel-card">
                    <h3 style="font-weight: bold; margin-bottom: 1rem;">Delivery Fleet Status</h3>
                    <table class="table-std">
                        <thead style="background: #f9fafb;"><tr><th>Rider Name</th><th>Status</th><th>Current Status</th></tr></thead>
                        <tbody id="fleet-list"></tbody>
                    </table>
                </div>

                <div id="tab-marketing" class="admin-panel hide grid-2">
                    <div class="admin-panel-card">
                        <h3 style="font-weight: bold; margin-bottom: 1rem;">SMS Automation</h3>
                        <textarea id="sms-body" class="input-field" rows="3" placeholder="Promotional message..." style="margin-bottom: 1rem;"></textarea>
                        <button onclick="app.sendSMSBlast()" class="btn-primary" style="background: var(--blue);">Send SMS Blast</button>
                    </div>
                </div>
            </div>
        </div>

        <div id="view-rider" class="view-section rider-container hide fade-in">
            <div class="rider-dash">
                <div class="rider-header">
                    <div>
                        <h2 style="font-weight: bold;">Delivery Dashboard</h2>
                        <p style="font-size: 0.75rem; opacity: 0.8;">Rider ID: #RD-9902</p>
                    </div>
                    <select onchange="app.setRiderStatus(this.value)" id="rider-status-select" style="background: rgba(255,255,255,0.2); color: white; border: none; padding: 0.25rem; border-radius: 4px;">
                        <option value="Online">üü¢ Online</option>
                        <option value="On Duty">üü° On Duty</option>
                        <option value="Offline">‚ö™ Offline</option>
                    </select>
                </div>

                <div class="rider-tabs">
                    <button onclick="app.switchRiderTab('new')" id="rtab-new" class="rider-tab active">Incoming</button>
                    <button onclick="app.switchRiderTab('active')" id="rtab-active" class="rider-tab">My Deliveries</button>
                </div>

                <div id="rider-panel-new" class="rider-subpanel">
                    <div id="rider-list-new"></div>
                    <div id="rider-empty-new" style="padding: 2.5rem; text-align: center; color: var(--text-muted);" class="hide">No new delivery requests.</div>
                </div>

                <div id="rider-panel-active" class="rider-subpanel hide">
                    <div id="rider-list-active" style="background: #eff6ff;"></div>
                    <div id="rider-empty-active" style="padding: 2.5rem; text-align: center; color: var(--text-muted);" class="hide">No active deliveries.</div>
                </div>
            </div>
        </div>

    </main>

    <div id="modal-checkout" class="modal-overlay hide">
        <div class="modal-box fade-in">
            <div class="modal-content">
                <h3 style="font-size: 1.25rem; font-weight: bold; margin-bottom: 1rem;">Confirm Order</h3>
                
                <div style="margin-bottom: 1.5rem;">
                    <div id="address-container" class="form-group">
                        <label class="form-label">Delivery Address</label>
                        <textarea id="checkout-address" class="input-field" rows="2" placeholder="Street, City, Zip Code..."></textarea>
                    </div>
                    
                    <div style="border-top: 1px dashed var(--border); padding-top: 0.75rem;">
                        <div class="cart-row"><span>Subtotal</span><span id="modal-subtotal">$0.00</span></div>
                        <div class="cart-row"><span>Tax</span><span id="modal-tax">$0.00</span></div>
                        <div class="cart-row" style="font-weight: bold; font-size: 1.125rem;"><span>Total</span><span id="modal-total">$0.00</span></div>
                        <div style="color: var(--success); font-size: 0.75rem; margin-top: 5px;"><i class="fa-solid fa-gift"></i> You will earn <span id="modal-points" style="font-weight: bold;">0</span> points</div>
                    </div>
                </div>
                
                <h4 class="form-label" style="margin-bottom: 0.5rem;">Payment Method</h4>
                <div class="pay-grid">
                    <button onclick="app.selectPayment('cash')" id="btn-cash" class="pay-btn">
                        <i class="fa-solid fa-money-bill-wave" style="font-size: 1.5rem; color: var(--success);"></i>
                        <span style="font-size: 0.75rem; font-weight: bold;">Cash</span>
                    </button>
                    <button onclick="app.selectPayment('qr')" id="btn-qr" class="pay-btn">
                        <i class="fa-solid fa-qrcode" style="font-size: 1.5rem; color: var(--blue);"></i>
                        <span style="font-size: 0.75rem; font-weight: bold;">QR Pay</span>
                    </button>
                </div>
                
                <div id="qr-display" class="hide" style="text-align: center; margin-bottom: 1.5rem; background: #f9fafb; padding: 1rem; border: 1px dashed var(--border); border-radius: 0.5rem;">
                    <img src="https://api.qrserver.com/v1/create-qr-code/?size=150x150&data=FoodHub-Payment" style="width: 100px; height: 100px; margin-bottom: 0.5rem; mix-blend-mode: multiply;">
                    <p style="font-size: 0.75rem; color: var(--text-muted);">Scan with banking app</p>
                </div>

                <div style="display: flex; gap: 0.75rem;">
                    <button onclick="document.getElementById('modal-checkout').classList.add('hide')" style="flex: 1; background: #f3f4f6; border: none; padding: 0.75rem; border-radius: 0.5rem; font-weight: bold; cursor: pointer;">Cancel</button>
                    <button onclick="app.confirmOrder()" class="btn-primary" style="flex: 1;">Place Order</button>
                </div>
            </div>
        </div>
    </div>

    <div id="toast" class="toast">
        <i class="fa-solid fa-check-circle"></i> <span id="toast-msg">Success</span>
    </div>

    <script src="script.js"></script>
</body>
</html>